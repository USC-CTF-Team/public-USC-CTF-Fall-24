(function(){var a=null;var b=io();function c(i){document['getElementById']('status')['innerText']=i;}function d(i){if(a==null)return;b['emit']('client_check_square_valid',{'game_id':a,'square':i});}function e(i){if(a==null)return;if(i['is_valid'])b['emit']('client_place_square',{'game_id':a,'square':i['square']});else c('Cannot\x20place\x20square\x20there');}function f(j){if(a==null)return;if(!j['is_valid']){c('Game\x20doesn\x27t\x20exist;\x20try\x20refresh\x20the\x20page');return;}for(var k=0x0;k<0x9;k++){z=j['board'][k]==0x0?'X':j['board'][k]==0x1?'O':'';document['getElementById']('ttt'+k)['innerText']=z;}if(j['turn']==0x0)c('Your\x20turn');else if(j['turn']==0x1)c('Computer\x20is\x20thinking...');if(j['winner']==0x0){c(j['flag']);a=null;return;}if(j['winner']==0x1){c('You\x20lose...');a=null;return;}if(j['winner']==0x3){c('Tie.');a=null;return;}}function g(){for(var j=0x0;j<0x9;j++){document['getElementById']('ttt'+j)['addEventListener']('click',function(k){d(k);}['bind'](null,j));}}function h(){b['on']('connect',function(){b['emit']('client_new_game');});b['on']('server_new_game',function(i){a=i['game_id'];});b['on']('server_check_square_valid',e);b['on']('server_board_update',f);}window['onload']=g;h();}());